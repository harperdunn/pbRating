{% extends "master.html"%}
{% load static %}
{% block title %} {{university.fullname}} {% endblock%}
{% block content %}
<div class="text-center bg-success-subtle p-3">
  <div class="d-flex flex-column flex-md-row align-items-center justify-content-center">
    <h1 class="display-1 my-4 text-black fw-bold">{{university.fullname}}</h1>
    <h1 class="display-1 my-4 text-success fw-bold ms-md-3">{{university.overallGrade}}</h1>
  </div>
<!-- progress bar -->
<div class="progress my-4 shadow "> 
  <div class="progress-bar d-flex progress-bar-striped progress-bar-animated bg-success align-items-center" role="progressbar" aria-valuenow="{{university.overallScore}}" aria-valuemin="0" aria-valuemax="740" style="width: {{progress_bar_pct}}%">
   <h3>{{university.overallScore}} Points</h3>
 </div>
</div>
  <!-- <h2> {{university.detailsOverview}}</h2> -->

 <!-- Full-width card at the top -->
<div class="container">
 <div class="row justify-content-center">
  <div class="col-12 col-md-10"> <!-- Adjust the width as needed -->
    <div class="card mb-3 border-0 px-3 mx-3 shadow">
      <div class="card-body">
        <h5 class="card-title">{{university.fullname}}Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aut quo blanditiis fugit vel possimus odit debitis quisquam sed saepe delectus ea, unde maxime quia corrupti, cupiditate aliquam itaque impedit nisi. Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus nisi culpa eius vel tempora ducimus, sequi repellat obcaecati, dolorem neque nemo pariatur placeat fuga cum libero, voluptate accusamus odio. Officiis!</h5> <!-- Example title -->
      </div>
    </div>
  </div>
</div>

 <!-- 2-column Card Grid -->
    <!-- 1 column per row on xs and small, md and largre is 2 columns per row. -->
    <div class="row row-cols-1 row-cols-md-2 g-3 justify-content-center align-items-center">
      <!-- Card 1 -->
      <div class="col">
        <div class="card mb-3 border-0 px-3 mx-3 shadow" style="max-width: 540px;">
          <div class="row g-0">
            <div class="col-md-12">
              <div class="card-body">
                <!-- money icon -->
                <i class="bi bi-cash-coin h1"></i>
                <p class="display-5 my-4 text-danger fw-bold">{{university.animal_based_percentage}}%</p>  
                <h5 class="card-title">of yearly food purchases are on animal-based products.</h5>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="col">
        <div class="card mb-3 border-0 px-3 mx-3 shadow" style="max-width: 540px;">
          <div class="row g-0">
            <div class="col-md-12">
              <div class="card-body">
                <i class="bi bi-file-earmark-check h1"></i>
                <p class="display-5 my-4 text-primary fw-bold">{{university.get_only_formal_commitments}}</p>  
                <h5 class="card-title">formal commitment(s) to reducing food-related impact on the planet.</h5>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="col">
        <div class="card mb-3 border-0 px-3 mx-3 shadow" style="max-width: 540px;">
          <div class="row g-0">
            <div class="col-md-12">
              <div class="card-body">
                <i class="fa-solid fa-utensils h1"></i>
                <p class="display-5 my-4 text-info fw-bold">{{university.vegan_meals}}</p>  
                <h5 class="card-title">plant-based mains served at dinner on average per week at each dining hall.</h5>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Card 4 -->
      <div class="col">
        <div class="card mb-3 border-0 px-3 mx-3 shadow" style="max-width: 540px;">
          <div class="row g-0">
            <div class="col-md-12">
              <div class="card-body">
                <div>
                  <i class="bi bi-tags h1"></i>
                </div>
                <h1>
                  {% for i in filled_stars %}
                  <i class="bi bi-star-fill h2"></i>
                  {% endfor %}
                  {% for i in empty_stars %}
                  <i class="bi bi-star h2"></i>
                  {% endfor %}
                </h1>
                <p class="display-5 my-4 text-warning fw-bold">{{star_count}}/5</p>  
                <h5 class="card-title">labeling & naming quality rating</h5>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  <div class="display-3 fw-bold m-3 border-3 border-white">Student Pictures and Testimonials
  </div>
    <!-- Bootstrap Carousel -->
    {% if images %}
    <div id="universityCarousel" class="carousel slide" data-bs-ride="carousel">
        <!-- Carousel Indicators -->
        <div class="carousel-indicators">
            {% for image in images %}
            <button type="button" data-bs-target="#universityCarousel" data-bs-slide-to="{{ forloop.counter0 }}" 
                    {% if forloop.first %}class="active" aria-current="true"{% endif %} 
                    aria-label="Slide {{ forloop.counter }}"></button>
            {% endfor %}
        </div>

        <!-- Carousel Items -->
        <div class="carousel-inner">
            {% for image in images %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <img src="{{ image.image.url }}" class="d-block w-100 rounded" alt="{{image.caption}}">
                <div class="carousel-caption d-none d-md-block">
                  <p>{{ image.caption }}</p>  <!-- Display the caption -->
              </div>
            </div>
            {% endfor %}
        </div>

        <!-- Carousel Controls -->
        <button class="carousel-control-prev" type="button" data-bs-target="#universityCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#universityCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    {% else %}
    <p>No images found for {{ university.fullname }}</p>
    {% endif %}

</div>    
<section id="testimonials" style="color: #000; background-color: #f3f2f2;">
  <div class="container m-5 py-5">
    <div class="row d-flex justify-content-center">
      <div class="col-md-10 col-xl-8 text-center">
        <h3 class="fw-bold mb-4">Testimonials</h3>
        <p class="mb-4 pb-2 mb-md-5 pb-md-0">
          Here are some quotes from current students about {{ university.fullname }}'s plant-based options and progress.
        </p>
      </div>
    </div>

    <div class="row text-center">
      {% for testimonial in testimonials %}
      <div class="col-md-4 mb-4 mb-md-0">
          <div class="card-body p-4 my-3 mx-2 shadow bg-success-subtle">
            <h5 class="font-weight-bold">{{ testimonial.name }}</h5>
            <h6 class="font-weight-bold my-3">{{ testimonial.role }}</h6>
            <ul class="list-unstyled d-flex justify-content-center">
              {% if testimonial.stars > 0 %}
              {% for i in "12345" %}
              <li>
                {% if forloop.counter <= testimonial.stars %}
                <!-- solid stars from font awesome solid -->
                  <i class="fas fa-star fa-sm text-info"></i> 
                {% else %}
                <!-- empty stars from font awesome regular -->
                  <i class="far fa-star fa-sm text-info"></i>
                {% endif %}
              </li>
              {% endfor %}
              {% else %}
              <!-- Placeholder for alignment if there are no stars given (early/survey testimonials)-->
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              <li>&nbsp;</li>
              {% endif %}
            </ul>
            <p class="mb-2">
              <i class="fas fa-quote-left pe-2"></i>{{ testimonial.quote }}<i class="fas fa-quote-right pe-2"></i>
            </p>
          </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
      
  </div>
{% endblock %}